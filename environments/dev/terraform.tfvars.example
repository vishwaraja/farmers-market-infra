# =============================================================================
# TERRAFORM VARIABLES EXAMPLE - DEV ENVIRONMENT
# =============================================================================
# Copy this file to terraform.tfvars and customize the values for your deployment

# Environment Configuration
environment = "dev"
aws_region  = "us-east-1"

# Project Configuration
project_name = "farmers-market"

# Networking Configuration
vpc_cidr                = "10.0.0.0/16"
availability_zone_count = 2
single_nat_gateway      = true

# EKS Configuration
cluster_name                     = "farmers-market-dev"
kubernetes_version              = "1.28"
cluster_endpoint_public_access  = true

# Node Group Configuration (Minimal for dev)
instance_types = ["t3.small"]
capacity_type  = "SPOT"  # Use spot instances for cost savings
min_size       = 1
max_size       = 3
desired_size   = 1
disk_size      = 20

# Feature Flags
enable_ebs_csi    = true
enable_monitoring = false  # Disabled for cost savings in dev
enable_alb_logs   = false  # Disabled for cost savings in dev
log_retention_days = 7

# Frontend Configuration
frontend_price_class = "PriceClass_100"  # US, Canada, Europe

# Kong Configuration
kong_database_password = "kong-password-123"  # Change this in production!
kong_replicas = 2
enable_kong_admin = true

# Kong Services Configuration (customize as needed)
kong_services = [
  {
    name                = "user-service"
    url                 = "http://user-service.farmers-market.svc.cluster.local:80"
    path                = "/api/users"
    strip_path          = true
    preserve_host       = false
    rate_limit_minute   = 100
    rate_limit_hour     = 1000
  },
  {
    name                = "product-service"
    url                 = "http://product-service.farmers-market.svc.cluster.local:80"
    path                = "/api/products"
    strip_path          = true
    preserve_host       = false
    rate_limit_minute   = 100
    rate_limit_hour     = 1000
  },
  {
    name                = "order-service"
    url                 = "http://order-service.farmers-market.svc.cluster.local:80"
    path                = "/api/orders"
    strip_path          = true
    preserve_host       = false
    rate_limit_minute   = 50
    rate_limit_hour     = 500
  }
]

# Optional: Custom domain configuration (uncomment when ready)
# frontend_domain = "dev.farmersmarket.com"
# frontend_ssl_certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/12345678-1234-1234-1234-123456789012"
# backend_domain = "api.farmersmarket.com"
# hosted_zone_id = "Z1234567890ABC"
# backend_ssl_certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/12345678-1234-1234-1234-123456789012"

# Additional Tags
additional_tags = {
  Team        = "platform"
  CostCenter  = "engineering"
  Environment = "development"
}
